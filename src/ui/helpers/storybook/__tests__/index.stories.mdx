import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { GetTestData } from "./interfaces";
import { getUnitTestData } from '..';
import { Tests } from '../../../components/elements';

<Meta title="Utilities/Helpers/storybook" />

# Storybook

A collection of project-specific helpers intended to make working with MDX files easier.

_NOTE: These helpers are intended to only be used in `.mdx` files. If you are using it outside of an `index.stories.mdx` file then you are most probably using it incorrectly._

- [API](#api)
- [Browser Compatability](#browser-compatability)
- [Unit Tests](#unit-tests)

## API

### GetTestData

This helper does a real-time fetch request to the JSON file outputted by Jest (which runs before starting or building Storybook), it retrieves the results of all unit tests assigned to the component/helper you are currently looking at.

Returns an array with the following shape: `{ title: string, status: 'passed' | 'failed' | 'loading' }[]`.

```ts
GetTestData('Element', 'Button')
```


<Props of={GetTestData} />

## Browser Compatibility

|Browser|Version|Test
|---|---|---|
|Internet Explorer|11|UNTESTED
|Safari|10|UNTESTED

# Unit Tests

### Helpers

<Test getData={getUnitTestData({ category: 'Global', name: 'storybook', helpers: true })} />